<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./assets/css/all.css">
<link rel="stylesheet" href="./assets/css/pages/cart.css">
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js' integrity='sha512-YXLGLsQBiwHPHLCAA9npZWhADUsHECjkZ71D1uzT2Hpop82/eLnmFb6b0jo8pK4T0Au0g2FETrRJNblF/46ZzQ==' crossorigin='anonymous'></script>
<script src="./assets/js/all.js"></script>
<title>cart</title>
</head>

<body>
    <div id="app">
        <vue-header></vue-header>


        @@include('./pages/CartPage/CartProgress.html')


        <transition name="fade" mode="out-in">
            <cart-area @data-handler="dataChange" :list="list" :current="current_section" :is-Exist="listIsExist" v-if="current_section === 0" key="index-1"></cart-area>

            <cart-info @data-handler="dataChange" :current="current_section" v-if="current_section === 1" key="index-2"></cart-info>

            <cart-done v-if="current_section === 2" key="index-3"></cart-done>
        </transition>







        <!-- 
        <div class="popovers">
            <p>共<span class="popovers__cartItems"> 3</span>件商品</p>
            <p>總金額：NT$<span class="popovers__totalCost">200</span></p>
            <div class="popovers__member">
                總需點數：
                <p>Ni <span>200</span></p>
            </div>
        </div>
        <div class="container">
            <div class="row d-flex mt-20 justify-content-center">
                <button class="btn btn--small  ml-20" data-js="js-popovers">Popovers</button>
            </div>
        </div>
        <div class="container">
            <div class="row d-flex mt-20 justify-content-center">
                <button class="btn btn--small  ml-20" data-js="js-progress">Progress</button>
            </div>
        </div> -->



    </div>

    @@include('./components/VueHeader.html')
    <!--  -->
    @@include('./pages/CartPage/CartArea.html')
    <!--  -->
    @@include('./pages/CartPage/CartInfo.html')
    <!--  -->
    @@include('./pages/CartPage/CartDone.html')
    <script>
        new Vue({
            el: '#app',
            data: {
                list: [{
                    productName: 'Audi R8 奧迪小客車',
                    productBrief: 'Audi TT coupe 1980',
                    price: 195,
                    productNum: 1,
                    totalPrice: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: 'BS 01',
                    pointProduct: false,
                }, {
                    productName: 'Audi R8 奧迪小客車',
                    productBrief: 'Audi TT coupe 1980',
                    price: 200,
                    productNum: 1,
                    totalPrice: 200,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: 'BS 01',
                    pointProduct: true,
                    //看資料庫型態改名
                }],
                listIsExist: true,
                current_section: 0,
            },
            methods: {

                dataChange(val) {

                    this.current_section = val;

                }

            },
            mounted() {
                //確認有無購買
                for (listnum in
                    this.list) {
                    if (!this.list[listnum].productName) {
                        this.listIsExist = false;
                    };
                    //確認是否為點數商品
                    if (this.list[listnum].pointProduct) {
                        console.log(`${(listnum
                            *
                            1
                            +
                            1)}是點數商品`)
                    }
                };
            },
        });
    </script>



</body>


</html>