<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js'
        integrity='sha512-WNLxfP/8cVYL9sj8Jnp6et0BkubLP31jhTG9vhL/F5uEZmg5wEzKoXp1kJslzPQWwPT1eyMiSxlKCgzHLOTOTQ=='
        crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js'
        integrity='sha512-YXLGLsQBiwHPHLCAA9npZWhADUsHECjkZ71D1uzT2Hpop82/eLnmFb6b0jo8pK4T0Au0g2FETrRJNblF/46ZzQ=='
        crossorigin='anonymous'></script>
    <link rel="stylesheet" href="./assets/css/all.css">
    <link rel="stylesheet" href="./assets/css/pages/product.css">
    <link rel="stylesheet" href="./assets/css/plugin/bootstrap.css">

    <title>product</title>
</head>


<body>
    <div id="app">
        <vue-header></vue-header>

        @@include('./pages/ProductPage/ProductNav.html')
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
        <!-- <page-filter></page-filter> -->
        <!-- your code here... -->
    </div>

    @@include('./components/VueHeader.html')
    <script src="./assets/js/new.js"></script>

    <script>
        Vue.component('page-filter', {

            template: `<h1>1111</h1>`,


        })


        new Vue({
            el: '#app',
            data: {
                arrayData: [{
                    productName: 'Audi R8 奧迪小客車',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '馬自達cx-5',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }, {
                    productName: '鈴木居米',
                    price: 195,
                    img: " ./assets/img/pic/3.jpg ",
                    seriousNum: '01',
                    pointProduct: false
                }],
                filter: '',
                currentPage: 0,
                newData: [],

            },
            methods: {
                prev() {
                    const vm = this;
                    if (vm.currentPage === 0) {
                        vm.currentPage = 0
                    } else {
                        vm.currentPage--
                    }
                },
                next() {
                    const vm = this;
                    if (vm.currentPage === vm.newData.length - 1) {
                        vm.currentPage = vm.newData.length - 1
                    } else {
                        vm.currentPage++
                    }
                }
            },
            computed: {
                page() {
                    const vm = this;
                    let category = '';
                    return vm.data.reduce((prev, curr) => {
                        if (curr.category !== category) {
                            prev.push(curr.category);
                        }
                        category = curr.category;
                        return prev
                    }, [])
                },

                filterData() {
                    const vm = this;
                    vm.currentPage = 0;
                    let tempData = [];
                    vm.newData = [];
                    tempData = vm.arrayData.filter((item) => {
                        if (vm.filter === '') {
                            return vm.arrayData
                            console.log(item)
                        } else if (vm.filter === item.category) {
                            return item
                        }
                    });

                    tempData.forEach((item, i) => {
                        if (i % 2 == 0) {
                            vm.newData.push([]);
                        }
                        const pagenum = parseInt(i / 2);
                        vm.newData[pagenum].push(item);
                    })
                    return vm.newData;
                }
            },
        });
    </script>


</body>

</html>