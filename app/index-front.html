<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.4.15/swiper-bundle.min.css'
    integrity='sha512-uA1+kHA/0O68FTSM4jeTzJNnRvNWxdCCSnE3gv8LaySXYxQT3nc5uPX9buMPtI1gxUBcxm0+5Lcw59jjl0nMDQ=='
    crossorigin='anonymous' />
<link rel="stylesheet" href="./assets/css/all.css">
<link rel="stylesheet" href="./assets/css/pages/index.css">
<link rel="stylesheet" href="./assets/css/pages/dictionary.css">

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.4.15/swiper-bundle.js'></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/MotionPathPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>


<title>index</title>
</head>

<body>
    <div id="app">
        <vue-header></vue-header>
        <main class="pt-25 index">
            @@include('./pages/HomePage/HomeParkingHeader.html);
            @@include('./pages/HomePage/HomeBillBoardSection.html);
            @@include('./pages/HomePage/HomeHighWaySection.html);
            @@include('./pages/HomePage/HomeMountainSection.html);
            @@include('./pages/HomePage/HomeFactorySection.html);
            @@include('./pages/HomePage/HomeAboutSection.html);
            @@include('./pages/HomePage/HomeAddressSection.html);
            @@include('./pages/HomePage/HomeEndFooter.html);
        </main>
        @@include('./components/Footer.html')
    </div>



    @@include('./components/VueHeader.html')
    @@include('./components/common/Pin.html')
    <!-- @@include('./pages/HomePage/HomeDisplayItem.html') -->



    <!-- <script type="module">
    import {sayHi} from './assets/js/data.js';
    sayHi('index');
</script> -->


    <script>
        new Vue({
            el: '#app',
            data: {
                products: [{
                    name: '藍寶堅尼Countach',
                    eng: 'LAMBORGHINI LP500S',
                    series: 'PM',
                    seriesId: '01',
                    imgURL: './assets/img/pic/3.jpg',
                    displayImgURL: './assets/img/pic/0.png',
                    productId: '000',
                    year: 2007,
                    description: '中置引擎超級跑車，有著跨時空的前衛感',
                    extraLabel: 1,
                }, {
                    name: '豐田 PRIUS 香港警車',
                    eng: 'TOYOTA HONG KONG ',
                    series: 'PA',
                    seriesId: '03',
                    imgURL: 'https://fakeimg.pl/992x744/',
                    displayImgURL: './assets/img/pic/0.png',
                    productId: '121',
                    year: 2010,
                    description: '香港油電混合警車初登場',
                    extraLabel: null,
                }, {
                    name: '三菱夫桑阪急巴士',
                    eng: 'MITSUBISHI AEROSTAR',
                    series: 'BS',
                    seriesId: '08',
                    imgURL: 'https://fakeimg.pl/992x744/',
                    displayImgURL: './assets/img/pic/0.png',
                    productId: '300',
                    year: 2015,
                    description: '運行於大阪地區的巴士，阪急巴士以米色和藍色配色而聞名，同時也是一款環保低排放巴士',
                    extraLabel: 3,
                }, ],
                memberHasPin: true,
                memberOwnProductIdList: ['120', '121'],
            },
            methods: {
                chBadge(product) {
                    const seriesNames = {
                        BS: '巴士系',
                        EN: '工程系',
                        TA: '計程車系',
                        EM: '消防救護系',
                        PM: 'PREMIUM系',
                        PA: '警車系',
                        RV: 'RV休旅系',
                        CA: '轎車系'
                    }
                    return seriesNames[product.series]
                },
                carIDClass(product) {
                    return `carID carID--lg bg-series-${product.series} po-re mb-5`
                },
                badgeClass(product) {
                    return `badge bg-series-${product.series} mr-2`
                },
                getPinClass(product) {
                    return this.memberOwnProductIdList.indexOf(product.productId) ? 'pin' :
                        'pin pin--disabled'
                },
                extraLabel(product) {
                    if (product.extraLabel === 1) {
                        return {
                            text: '期間限定',
                            className: 'badge badge--primary'
                        };
                    } else if (product.extraLabel === 2) {
                        return {
                            text: '點數限定',
                            className: 'badge bg-blue'
                        };
                    } else {
                        return {}
                    }
                },
            },

            mounted() {
                let swiperBillboard = new Swiper('#swiperContainerBillboard', {
                    spaceBetween: 20,
                    autoplay: {
                        delay: 2000,
                        disableOnInteraction: false
                    },
                    loop: true,
                    // mousewheel: true,
                    speed: 800,
                    // effect: 'fade',
                });
                let swiperMountain = new Swiper('#swiperContainerMountain', {
                    spaceBetween: 20,
                    autoplay: {
                        delay: 2000,
                        disableOnInteraction: false
                    },
                    loop: true,
                    // mousewheel: true,
                    speed: 800,
                    effect: 'fade',
                });

                let controller = new ScrollMagic.Controller();
                let screenX = document.body.clientWidth;


                let mvParking = TweenMax.to('.parking--car', 4, {
                    x: -screenX * .65, //5
                    y: screenX * .39, //3
                });

                new ScrollMagic.Scene({
                        triggerElement: '#triggerParking', //觸發點
                        offset: 500
                    }).setTween(mvParking) //找到bgc 物件 動態塞入blue
                    .addIndicators({
                        name: 'key02',
                        colorStart: '#13fe13'
                    })
                    .addTo(controller);


                let mvBillboard = TweenMax.to('.billboard--car', 3, {
                    x: screenX + 250,
                    ease: Linear.easeNone,
                });

                new ScrollMagic.Scene({
                        triggerElement: '#triggerBillboard', //觸發點
                        offset: 200
                    }).setTween(mvBillboard) //動畫
                    .addIndicators({
                        name: 'key01',
                        colorStart: '#f20'

                    })
                    .addTo(controller);

                gsap.registerPlugin(MotionPathPlugin);

                let mvFactory = gsap.timeline();
                mvFactory.to('.factory--door', 2, {
                    y: -screenX * .1,
                }).to('.factory--car', 2, {
                    motionPath: {
                        path: "#factoryRoadPath",
                        align: "#factoryRoadPath",
                        alignOrigin: [0.5, .5],
                        autoRotate: -90,
                        transformOrigin: "50% 50%",
                    },
                    ease: Linear.easeNone,
                }).to('.factory--car', 4, {
                    motionPath: {
                        path: "#turnRoadPath",
                        align: "#turnRoadPath",
                        alignOrigin: [0.5, .5],
                        autoRotate: -90,
                        transformOrigin: "50% 50%",
                        start: 1,
                        end: 0,
                    },
                    ease: Linear.easeNone,
                    delay: .5,
                }).to('.factory--car', 4, {
                    motionPath: {
                        path: "#endRoadPath",
                        align: "#endRoadPath",
                        alignOrigin: [0.5, .5],
                        autoRotate: -90,
                        transformOrigin: "50% 50%",
                    },
                    ease: Linear.easeNone,
                    delay: 1,
                });


                new ScrollMagic.Scene({
                        triggerElement: '#triggerFactory', //觸發點
                        offset: 400
                    }).setTween(mvFactory)
                    .addIndicators({
                        name: 'key03',
                        colorStart: '#f20'

                    })
                    .addTo(controller)

            }

        });
    </script>
</body>

</html>