<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./assets/css/all.css">
<link rel="stylesheet" href="./assets/css/pages/dictionary.css">
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="../node_modules/vue/dist/vue.js"></script>
<script src="./assets/js/all.js"></script>
<title>Dictionary</title>
</head>

<body>
    <div id="dictionary">
        <vue-header></vue-header>
        <main class="container dictionary pt-25 pb-15">
            <!-- display -->
            <div :class="modalClass" >
    <div class="po-ab h-100 w-100" @click="isModalShow=false"></div>
    <div class="container h-100 d-flex justify-content-center align-items-center">
    <section class="display px-10 py-5">
       
            <svg role="button" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 52 52" class="icon modal__close" @click="isModalShow=false">
                <g transform="translate(0 0.47)">
                    <line x1="33.493" transform="translate(14.158 13.688) rotate(45)" fill="none" stroke="#522613" stroke-linecap="round" stroke-width="5"/>
                    <line x1="33.493" transform="translate(37.842 13.688) rotate(135)" fill="none" stroke="#522613" stroke-linecap="round" stroke-width="5"/>
                </g>
                </svg>
            <div class="display__cover mb-10">
                <h2 class="display__title mb-2">{{targetProduct.eng}}</h2>
                <img :src="targetProduct.displayImgURL" class="display__img">
                <div :class="carIDClass">{{targetProduct.series}}<span>{{targetProduct.seriesId}}</span>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center flex-xs-wrap">
                <div class="mb-xs-2 w-50 w-md-100">
                    <h3 class="h1 mb-1">{{targetProduct.name}}</h3>
                    <span class="d-inbl mb-5">{{targetProduct.eng}} {{targetProduct.year}}</span>
                    <p class="h4 mb-5">{{targetProduct.description}}</p>
                    <span :class="badgeClass">{{seriesNames[targetProduct.series]}}</span>
                    <span v-if="targetProduct.extraLabel== 2 || targetProduct.extraLabel== 1"
                        :class="extraLabel.className">{{extraLabel.text}}</span>
                </div>
                <div class="text-right mx-xs-auto">
                    <svg :class="getPinClass" width="120" height="120" viewBox="0 0 80 80">
                        <circle cx="40" cy="40" r="30" stroke-width="4" />
                        <circle cx="40" cy="40" r="25" stroke-width="2" />
                        <path d="M 23,30 A 20,20 0 0 1 57,30" stroke-width="1" />
                        <path d="M 23,50 A 20,20 0 0 0 57,50" stroke-width="1" />
                        <text x="20" y="48" class="pin__text pin__text--lg">GET</text>
                    </svg>
                    <!-- pin 收藏大師-->
                    <pin :disabled="!memberHasPin" :series="targetProduct.series">
                </div>
            </div>
            <!-- <img src="./assets/img/icon/icon-left.svg" alt="prev"
        class="swiper-pagination swiper-pagination-prev">
    <img src="./assets/img/icon/icon-right.svg" alt="next"
        class="swiper-pagination swiper-pagination-next"> -->
        
    </section>
</div>
</div>
            <!-- dictionary list -->
            <section class="block">
                <nav class="block__header block__header--nav">
    <ul class="d-flex mb-md-4">
        <li class="mr-20 mr-md-15 mr-sm-10"><a href="#" class="block__header__title link'"
                :class="{'link--active': navClassName.all}"
                @click.prevent="changeShowProducts('all')">全部圖鑑</a></li>
        <li><a href="#" class="block__header__title link" :class="{'link--active': navClassName.my}"
                @click.prevent="changeShowProducts('my')">我的圖鑑</a></li>
    </ul>
    <div v-show="isNavbarShow" class="ml-auto w-md-100 d-flex text-right" >
        <button class="btn btn--link text-coffee mr-8 mr-sm-1"
            @click="changeSearchType">{{searchType}}</button>
            <div class="d-inbl" v-show="searchType === '關鍵字搜尋' ">
                <button class="btn btn--outline mr-8 mr-sm-1" @click="handleResetFilter">重置</button>
                <button class="btn" @click="searchShowProduct">搜尋</button>
            </div>
            <div class="search-bar" v-show="searchType === '分類搜尋' ">
                <input type="text" class="search-bar__input">
                <button class="btn search-bar__btn">搜尋</button>
            </div>
    </div>
</nav>
                <transition name="collapse">
                        <form class="bg-white po-re px-10 py-5" v-show="searchType === '關鍵字搜尋' && isNavbarShow">
        <ul>
            <li class="mb-5">
                <label class="h4 d-block mb-3">價格</label>
                <label class="custom-input ml-3 mb-5">全部
                    <input type="checkbox"  v-model="selectedPriceFilter.length === 3" @click="handleAllCheckPrice" class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
                <label v-for="(priceRange,key) in pricesRange" class="custom-input ml-3 mb-5">{{priceRange}}
                    <input type="checkbox" :value="key" v-model="selectedPriceFilter" class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
            </li>
            <li class="mb-5">
                <label class="h4 d-block mb-3">年代</label>
                <label class="custom-input ml-3 mb-5">全部
                    <input type="checkbox"  v-model="selectedYearFilter.length === 3" @click="handleAllCheckYear"class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
                <label v-for="(yearRange,key) in yearsRange" class="custom-input ml-3 mb-5" >{{yearRange}}
                    <input type="checkbox" :value="key"  v-model="selectedYearFilter" class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
            </li>
            <li class="mb-5">
                <label class="h4 d-block mb-3">系列</label>
                <label class="custom-input ml-3 mb-5">全部
                    <input type="checkbox"  v-model="selectedSeriesFilter.length === 8" @click="handleAllCheckSeries" class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
                <label v-for="(seriesName,key) in seriesNames" class="custom-input ml-3 mb-5">{{seriesName}}
                    <input type="checkbox" :value="key" v-model="selectedSeriesFilter"  class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
            </li>
            <li>
                <label class="h4 d-block mb-3">限定</label>
                <label class="custom-input ml-3 mb-5">全部
                    <input type="checkbox" v-model="selectedLimitFilter.length === 3" @click="handleAllCheckLimit" class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
                <label v-for="(extraLabelName,key) in extraLabelNames" class="custom-input ml-3 mb-5">{{extraLabelName}}
                    <input type="checkbox" :value="key" v-model="selectedLimitFilter"  class="custom-input__input">
                    <span class="custom-input__checkmark"></span>
                </label>
            </li>
        </ul>
    </form>
                </transition>
                <ul class="row block__body">
    <!-- post -->

    <post v-for="(product,index) in showProducts" v-bind="product" key="product.productId + Math.random()"
        @click.native.prevent="handleClickPost(product.productId)"
        :active="product.productId === targetProduct.productId" :show-pin="isPostPin(product.productId)"></post>

</ul>
            </section>
        </main>
        <footer class="footer">
    <div class="container">
        <ul class="row py-10">
            <li class="col-3 col-lg-3 col-sm-4 mb-sm-4">
                <h4 class="footer__title">商品相關</h4>
                <nav>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">商品一覽</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">本月主打</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">車車工廠</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">車車圖鑑</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">退貨機制</a></li>
                </nav>
            </li>
            <li class="col-3 col-lg-3 col-sm-4 mb-sm-4">
                <h4 class="footer__title">會員權益</h4>
                <nav>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">會員Q&A</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">訊息公告</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">會員機制說明</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">隱私權政策</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">服務條款</a></li>
                </nav>
            </li>
            <li class="col-3 col-lg-3 col-sm-4 mb-sm-4">
                <h4 class="footer__title">關於Nino</h4>
                <nav>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">關於我們</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">合作夥伴</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">工作機會</a></li>
                    <li><a href="#" class="link w-100 py-2 px-sm-10">媒體報導</a></li>
                </nav>
            </li>
            <li class="col-3 col-lg-3 col-sm-4">
                <h4 class="footer__title">聯絡我們</h4>
                <nav>

                </nav>
            </li>
        </ul>
        <div class="copyright">
            Copyright &copy; 2021 nino car
        </div>
</footer>
    </div>


    <script>
    Vue.component('vue-header', {
        template: `
    <header class="header">
        <div class="container d-flex justify-content-between align-items-center po-re py-2">
            <svg role="button" aria-label=”menu” xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" class="icon">
                <g transform="translate(-197.2 -223.548)">
                    <path d="M223.2,271.936a23.222,23.222,0,1,1,23.222-23.222A23.248,23.248,0,0,1,223.2,271.936Zm0-41.444a18.222,18.222,0,1,0,18.222,18.222A18.242,18.242,0,0,0,223.2,230.492Z" fill="#522613"/>
                    <path d="M233.116,246.609H213a2.5,2.5,0,0,1,0-5h20.113a2.5,2.5,0,0,1,0,5Z" fill="#522613"/>
                    <path  d="M233.116,257.135H213a2.5,2.5,0,0,1,0-5h20.113a2.5,2.5,0,0,1,0,5Z" fill="#522613"/>
                </g>
            </svg>
             <a href="#"><h1 class="logo">nino car</h1></a>
            <nav>
                <ul class="d-flex">
                    <li>
                        <svg role="button" aria-label="search" xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" class="icon">
                            <g>
                                <circle cx="16.5" cy="16.5" r="16.5" transform="translate(7.175 5.413)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                <circle cx="16.5" cy="16.5" r="10" transform="translate(7.175 5.413)" fill="none" stroke="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="hover-stroke-coffee"/>
                                <line x1="10" y1="10" transform="translate(35.163 34.349)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                            </g>
                        </svg>
                    </li>
                    <li class="ml-10" v-if="isLogin" >
                        <a href="#" aria-label=”member”>
                            <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" class="icon">
                                <g transform="translate(3 6.274)">
                                    <g  transform="translate(9 -3)" fill="none" stroke="#522613" stroke-width="5">
                                        <circle cx="14" cy="14" r="14" stroke="none"/>
                                        <circle cx="14" cy="14" r="11.5" fill="none"/>
                                    </g>
                                    <g transform="translate(4 27)" fill="none" stroke="#522613" stroke-width="5">
                                        <ellipse cx="18.5" cy="7.5" rx="18.5" ry="7.5" stroke="none"/>
                                        <ellipse cx="18.5" cy="7.5" rx="16" ry="5" fill="none"/>
                                    </g>
                                    <circle cx="2" cy="2" r="2" transform="translate(17 8.725)" class="hover-fill-coffee" fill="none"/>
                                    <circle cx="2" cy="2" r="2" transform="translate(25 8.725)" class="hover-fill-coffee" fill="none"/>
                                </g>
                            </svg>
                        </a>
                    </li>
                    <li class="ml-10"  v-if="isLogin">
                        <a href="#" aria-label=”message”>
                            <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" class="icon">
                                <g transform="translate(6.473 4.772)">
                                    <path d="M32.3,14.12a11.12,11.12,0,0,0-22.24,0C10.06,27.094,4.5,30.8,4.5,30.8H37.86S32.3,27.094,32.3,14.12" transform="translate(-1.601 -0.584)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                    <path d="M22.932,31.5a4.351,4.351,0,0,1-7.527,0" transform="translate(0.413 6.835)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                    <path d="M22.3,8.281S25.877,9.8,25.621,18.86" fill="none" stroke="none" stroke-linecap="round" stroke-width="3" class="hover-stroke-coffee"/>
                                </g>
                            </svg>
                        </a>
                    </li>
                    <li class="ml-10" v-if="!isLogin">
                        <button class="link--login" @click="isLoginModalShow=true">登入 / 註冊</button>
                    </li>
                </ul>         
            </nav>
        </div> 
        <div class="container">
            <nav class="link-group">
                <ul>
                    <li>
                        <a href="#" aria-label=”cart”>
                            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 80 80" class="icon">
                                <g transform="translate(-715 -383)">
                                    <circle cx="40" cy="40" r="37" transform="translate(715 383)" fill="#fadd61"  stroke="#ffffff" stroke-width="3"/>
                                    <g transform="translate(734 402.037)">
                                    <path  d="M16.627,32.313A2.313,2.313,0,1,1,14.313,30,2.313,2.313,0,0,1,16.627,32.313Z" transform="translate(0.072 4.523)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                    <path d="M16.627,32.313A2.313,2.313,0,1,1,14.313,30,2.313,2.313,0,0,1,16.627,32.313Z" transform="translate(19.072 4.523)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                    <path  d="M1.5,1.5H8.97l5,25.006a3.735,3.735,0,0,0,3.735,3.007H35.862A3.735,3.735,0,0,0,39.6,26.506l2.988-15.668H10.837" transform="translate(-2.5 1.276)" fill="none" stroke="#522613" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
                                    <line  x1="6" transform="translate(-3 23.462)" fill="none" stroke="none" stroke-linecap="round" stroke-width="4" class="hover-stroke-coffee"/>
                                    <line x1="6" transform="translate(-1 30.462)" fill="none" stroke="none" stroke-linecap="round" stroke-width="4" class="hover-stroke-coffee"/>
                                    </g>
                                </g>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="#" aria-label=”top” v-show="isTopBtnVisible" @click.prevent="scrollTop">
                            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 80 80" class="icon">
                                <g transform="translate(-1660 -805)">
                                    <g transform="translate(76 -122.041)">
                                        <circle cx="40" cy="40" r="37" transform="translate(1584 927.041)" fill="#fadd61" stroke="#ffffff" stroke-width="3"/>
                                    </g>
                                    <text transform="translate(1700 862)" fill="#522613" font-size="32" font-family="NotoSans-Bold, Noto Sans" font-weight="700"><tspan x="-31.891" y="0">TOP</tspan></text>
                                    <g transform="translate(1995.252 1047.249) rotate(180)">
                                    <path d="M301.122,234.488a1.2,1.2,0,0,1-.864-.366l-6.664-6.875a1.2,1.2,0,0,1,1.729-1.676l5.741,5.922,4.986-5.864a1.2,1.2,0,0,1,1.834,1.559l-5.845,6.875a1.2,1.2,0,0,1-.878.423Z" transform="translate(-5.703 -8.294)" fill="#522613"/>
                                    </g>
                                    <g transform="translate(1995.252 1037.967) rotate(180)">
                                    <path d="M301.122,234.488a1.2,1.2,0,0,1-.864-.366l-6.664-6.875a1.2,1.2,0,0,1,1.729-1.676l5.741,5.922,4.986-5.864a1.2,1.2,0,0,1,1.834,1.559l-5.845,6.875a1.2,1.2,0,0,1-.878.423Z" transform="translate(-5.703 -8.294)" fill="none" class="hover-fill-coffee"/>
                                    </g>
                                </g>
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>
        </div> 
    <div :class="modalLoginClass">
        <div class="po-ab h-100 w-100" @click="isLoginModalShow=false"></div>
        <div class="modal__group modal__group--sm">
            <svg role="button" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 52 52"
                class="icon modal__close" @click="isLoginModalShow=false">
                <g transform="translate(0 0.47)">
                    <line x1="33.493" transform="translate(14.158 13.688) rotate(45)" fill="none"
                        stroke="#522613" stroke-linecap="round" stroke-width="5" />
                    <line x1="33.493" transform="translate(37.842 13.688) rotate(135)" fill="none"
                        stroke="#522613" stroke-linecap="round" stroke-width="5" />
                </g>
            </svg>
            <h2 class="modal__title mb-5">
                登入
            </h2>
            <div class="form__group mb-5">
                <label for="account" class="form__text">帳號</label>
                <input type="text" class="form__input" id="account" placeholder="abc@gmail.com" />
            </div>
            <div class="form__group mb-12">
                <label for="password" class="form__text">密碼</label>
                <input type="text" class="form__input" id="password" placeholder="***" />
            </div>

            <div class="text-right">
                <button class="btn btn--link mb-6">忘記密碼</button>
            </div>
            <button class="btn btn--fluid mb-4" @click="isLogin=true;isLoginModalShow=false">登入</button>
            <button class="btn btn--fluid btn--outline">註冊</button>
        </div>
    </div>
    </header>
        `,
        data() {
            return {
                username: '',
                isLogin: false,
                isTopBtnVisible: false,
                isLoginModalShow: false,
            }
        },
       computed:{
        modalLoginClass(){
            if (this.isLoginModalShow) {
                        return 'modal -active'
                    } else {
                        return 'modal  '
                    }
        }
       },
        methods: {
            scrollTop() {
                this.intervalId = setInterval(() => {
                    if (window.pageYOffset === 0) {
                        clearInterval(this.intervalId)
                    }
                    window.scroll(0, window.pageYOffset - 50)
                }, 20)
            },
            scrollListener() {
                this.isTopBtnVisible = window.scrollY > 100
            }
        },
        mounted() {
            window.addEventListener('scroll', this.scrollListener)
        },
        beforeDestroy() {
            window.removeEventListener('scroll', this.scrollListener)
        }
    });
</script>
    <script>
    Vue.component('pin', {
        template: `
     <svg :class="thisPin.className" width="120" height="120" viewBox="0 0 80 80">
        <circle cx="40" cy="40" r="30" stroke-width="4" />

        <path d="M 18.4,27.5 A 25,25 0 0 1 61.6,27.5" stroke-width="2" />
        <path d="M 18.4,52.5 A 25,25 0 0 0 61.6,52.5" stroke-width="2" />
        <path d="M 23,30 A 20,20 0 0 1 57,30" stroke-width="1" />
        <path d="M 23,50 A 20,20 0 0 0 57,50" stroke-width="1" />
        <text x="15" y="45" class="pin__text">{{thisPin.name}}</text>
      </svg>
     `,
        props: ['series','disabled'],
        computed: {
            thisPin() {
                const pinNames = {
                    BS: {name:'旅行達人',className:'pin pin--green'},
                    EN: {name:'工程大王',className:'pin pin--coffee'},
                    TA: {name:'小皇大帝',className:'pin pin--yellow'},
                    EM: {name:'救火英雄',className:'pin pin--red'},
                    PM: {name:'收藏大王',className:'pin pin--gray'},
                    PA: {name:'小鎮守衛',className:'pin pin--blue'},
                    RV: {name:'旅行達人',className:'pin pin--green'},
                    CA: {name:'收藏大王',className:'pin pin--gray'}
                }
                if(this.disabled){pinNames[this.series]['className'] = 'pin pin--disabled'}
                return pinNames[this.series];
            }
        }
    });
</script>
    <script>
       Vue.component('post', {
            template: `
            <transition name="slide-fade">
        <li class="col-4 col-lg-3 col-sm-4 mb-5">
            <div class="post">
                <div class="post__text">
                    <h2 class="h6 mb-1">{{name}}</h2>
                    <h3 class="h6">{{eng}}</h3>
                <div :class="postCarIDClass">{{series}}<span>{{seriesId}}</span></div>
                </div>
                <div class="post__pic">
                    <img :src="imgURL">
                    <post-pin v-if="showPin"></post-pin>
                </div>
            </div>
        </li>
        </transition>
            `,
            props: ['name', 'eng', 'series', 'seriesId', 'productId', 'imgURL', 'active', 'show-pin'],
            computed: {
                postCarIDClass() {
                    return `carID bg-series-${this.series}`
                },
              
            }
        });
</script>
    <script>
    Vue.component('post-pin', {
        template: `
            <svg class="pin" width="80" height="80">
                <circle cx="40" cy="40" r="30" stroke-width="4" />
                <circle cx="40" cy="40" r="25" stroke-width="2" />
                <path d="M 23,30 A 20,20 0 0 1 57,30" stroke-width="1" />
                <path d="M 23,50 A 20,20 0 0 0 57,50" stroke-width="1" />
                <text x="20" y="48" class="pin__text pin__text--lg">GET</text>
            </svg>
     `,
    });
</script>


    <script>
        new Vue({
            el: '#dictionary',
            data: { //變數存放的地方
                products: [{
                        name: '藍寶堅尼Countach',
                        eng: 'LAMBORGHINI LP500S',
                        series: 'PM',
                        seriesId: '01',
                        imgURL: './assets/img/pic/3.jpg',
                        displayImgURL: './assets/img/pic/0.png',
                        productId: '000',
                        year: 2007,
                        description: '中置引擎超級跑車，有著跨時空的前衛感',
                        extraLabel: 1,
                    },
                    {
                        name: '豐田 PRIUS 香港警車',
                        eng: 'TOYOTA HONG KONG ',
                        series: 'PA',
                        seriesId: '03',
                        imgURL: 'https://fakeimg.pl/992x744/',
                        displayImgURL: './assets/img/pic/0.png',
                        productId: '121',
                        year: 2010,
                        description: '香港油電混合警車初登場',
                        extraLabel: null,
                    },
                    {
                        name: '三菱夫桑阪急巴士',
                        eng: 'MITSUBISHI AEROSTAR',
                        series: 'BS',
                        seriesId: '08',
                        imgURL: 'https://fakeimg.pl/992x744/',
                        displayImgURL: './assets/img/pic/0.png',
                        productId: '300',
                        year: 2015,
                        description: '運行於大阪地區的巴士，阪急巴士以米色和藍色配色而聞名，同時也是一款環保低排放巴士',
                        extraLabel: 3,
                    },
                    {
                        name: '天隸屬車車',
                        eng: 'PUI PUI CAR',
                        series: 'CA',
                        seriesId: '05',
                        imgURL: 'https://fakeimg.pl/992x744/',
                        displayImgURL: './assets/img/pic/0.png',
                        productId: '211',
                        year: 2010,
                        description: '香港油電混合警車初登場',
                        extraLabel: null,
                    },
                    {
                        name: '就糊車車',
                        eng: 'EMERGENCY CAR',
                        series: 'EM',
                        seriesId: '05',
                        imgURL: 'https://fakeimg.pl/992x744/',
                        displayImgURL: './assets/img/pic/0.png',
                        productId: '311',
                        year: 2010,
                        description: '香港油電混合警車初登場',
                        extraLabel: null,
                    },
                ],
                targetProduct: {
                    name: '豐田 PRIUS 香港警車',
                    eng: 'TOYOTA HONG KONG ',
                    series: 'PA',
                    seriesId: '03',
                    imgURL: 'https://fakeimg.pl/992x744/',
                    displayImgURL: './assets/img/pic/0.png',
                    productId: '121',
                    year: 2010,
                    description: '香港油電混合警車初登場',
                    extraLabel: null,
                },
                myProducts: [],
                memberOwnProductIdList: ['300', '121'],
                memberHasPin: true,
                searchType: '分類搜尋',
                navClassName: {
                    'all': true,
                    'my': false
                },
                showProducts: [],
                isNavbarShow: true,
                seriesNames: {
                    BS: '巴士系',
                    EN: '工程系',
                    TA: '計程車系',
                    EM: '消防救護系',
                    PM: 'PREMIUM系',
                    PA: '警車系',
                    RV: 'RV休旅系',
                    CA: '轎車系'
                },
                selectedSeriesFilter: ['BS','EN','TA','EM','PM','PA','RV','CA'],
                pricesRange: {
                    1: '100~200',
                    2: '200~300',
                    3: '300以上'
                },
                selectedPriceFilter: [1, 2, 3],
                yearsRange: {
                    1970: '1970~1989',
                    1990: '1990~2009',
                    2010: '2010後'
                },
                selectedYearFilter: [1970, 1990, 2010],
                extraLabelNames: {
                    0: '無限定',
                    1: '期間限定',
                    2: '點數限定',
                },
                selectedLimitFilter: [0, 1, 2],
                isModalShow: false,
            },
            mounted() {
                this.myProducts = this.products.filter(product => this.memberOwnProductIdList.indexOf(product
                    .productId));
                this.showProducts = this.products;
                this.targetProduct = this.showProducts[0];
            },
            computed: {
                modalClass() {
                    if (this.isModalShow) {
                        return 'modal text-left -active'
                    } else {
                        return 'modal text-left '
                    }
                },
                carIDClass() {
                    return `carID carID--lg bg-series-${this.targetProduct.series} po-re `
                },
                badgeClass() {
                    return `badge bg-series-${this.targetProduct.series} mr-2`
                },
                getPinClass() {
                    return this.memberOwnProductIdList.indexOf(this.targetProduct.productId) ? 'pin' :
                        'pin pin--disabled'
                },
                extraLabel() {
                    if (this.targetProduct.extraLabel === 1) {
                        return {
                            text: '期間限定',
                            className: 'badge badge--primary'
                        };
                    } else if (this.targetProduct.extraLabel === 2) {
                        return {
                            text: '點數限定',
                            className: 'badge bg-blue'
                        };
                    } else {
                        return {}
                    }
                },

            },
            methods: {
                handleResetFilter() {
                    this.selectedYearFilter.splice(0);
                    for (const key in this.yearsRange) {
                        this.selectedYearFilter.push(key);
                    }
                    this.selectedSeriesFilter.splice(0);
                    for (const key in this.seriesNames) {
                        this.selectedSeriesFilter.push(key);
                    }
                    this.selectedPriceFilter.splice(0);
                    for (const key in this.pricesRange) {
                        this.selectedPriceFilter.push(key);
                    }
                    this.selectedLimitFilter.splice(0);
                    for (const key in this.extraLabelNames) {
                        this.selectedLimitFilter.push(key);
                    }
                },
                handleAllCheckYear() {
                    if (this.selectedYearFilter.length === 3) {
                        this.selectedYearFilter.splice(0)
                    } else {
                        this.selectedYearFilter.splice(0);
                        for (const key in this.yearsRange) {
                            this.selectedYearFilter.push(key);
                        }
                    }
                },
                handleAllCheckSeries() {
                    if (this.selectedSeriesFilter.length === 8) {
                        this.selectedSeriesFilter.splice(0)
                    } else {
                        this.selectedSeriesFilter.splice(0);
                        for (const key in this.seriesNames) {
                            this.selectedSeriesFilter.push(key);
                        }
                    }
                },
                handleAllCheckPrice() {
                    if (this.selectedPriceFilter.length === 3) {
                        this.selectedPriceFilter.splice(0)
                    } else {
                        this.selectedPriceFilter.splice(0);
                        for (const key in this.pricesRange) {
                            this.selectedPriceFilter.push(key);
                        }
                    }
                },
                handleAllCheckLimit() {
                    if (this.selectedLimitFilter.length === 3) {
                        this.selectedLimitFilter.splice(0)
                    } else {
                        this.selectedLimitFilter.splice(0);
                        for (const key in this.extraLabelNames) {
                            this.selectedLimitFilter.push(key);
                        }
                    }
                },
                handleClickPost(theProductId) {

                    let index = this.showProducts.map(showProduct => showProduct.productId).indexOf(
                        theProductId);
                    this.targetProduct = this.products[index];
                    this.isModalShow = true;
                },
                isPostPin(theProductId) {
                    return this.memberOwnProductIdList.indexOf(theProductId);
                },
                changeSearchType() {
                    this.searchType === '分類搜尋' ? this.searchType = '關鍵字搜尋' : this.searchType = '分類搜尋'
                },
                changeShowProducts(filter) {
                    if (filter === 'my') {
                        this.showProducts = this.myProducts;
                        this.isNavbarShow = false;
                        this.navClassName = {
                            'all': false,
                            'my': true
                        };
                    } else if (filter === 'all') {
                        this.showProducts = this.products;
                        this.isNavbarShow = true;
                        this.navClassName = {
                            'all': true,
                            'my': false
                        };
                    }
                },
                searchShowProduct() {
                  
                    // const AllFilter = [this.selectedYearFilter,this.selectedSeriesFilter,this.selectedPriceFilter,this.selectedLimitFilter];
                    const filteredList = this.products.filter(product => this.selectedSeriesFilter.indexOf(product.series)>=0);
                    console.log(filteredList);
                    this.showProducts = filteredList;
                },
            },
        });
    </script>
</body>

</html>